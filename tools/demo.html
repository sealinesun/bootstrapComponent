<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap-theme.min.css">
    <script src="http://react.zpao.com/builds/master/latest/react.js"></script>
    <script src="../dist/react-bootstrap.js"></script>
    <script src="http://fb.me/JSXTransformer-0.8.0.js"></script>
</head>
<body>
    <script type="text/jsx">
        /** @jsx React.DOM */
        var Panel = ReactBootstrap.Panel,
            Accordion = ReactBootstrap.Accordion,
            PanelGroup = ReactBootstrap.PanelGroup,
            DropdownButton = ReactBootstrap.DropdownButton,
            SplitButton = ReactBootstrap.SplitButton,
            MenuItem = ReactBootstrap.MenuItem,
            Modal = ReactBootstrap.Modal,
            LayeredComponentMixin = ReactBootstrap.LayeredComponentMixin,
            isOpen = true,

            handleSelect = function () {
                isOpen = !isOpen;
                render();
            },

            handleDropdownSelect = function (key) {
                console.info(key);
            },

            render = function () {
                var header = 'header'; //React.DOM.h1({}, 'Header');

                React.renderComponent(
                    <div>
                        <DropdownButton title="Dropdown" onSelect={handleDropdownSelect}>
                            <MenuItem key="0" bsVariation="header">Header</MenuItem>
                            <MenuItem key="1">Item 1</MenuItem>
                            <MenuItem key="2" bsVariation="divider"/>
                        </DropdownButton>
                        <SplitButton title="Split" onSelect={handleDropdownSelect}>
                            <MenuItem key="0" bsVariation="header">Header</MenuItem>
                            <MenuItem key="1">Item 1</MenuItem>
                            <MenuItem key="2" bsVariation="divider"/>
                        </SplitButton>
                        <Accordion bsStyle="default" initialActiveKey="1">
                            <Panel header='header1' key="1">Content1</Panel>
                            <Panel header='header2' key="2">Content2</Panel>
                        </Accordion>
                        <ModalLink/>
                    </div>,
                    document.body
                );
            },

            ModalLink = React.createClass({
                mixins: [LayeredComponentMixin],

                handleClick: function() {
                    this.setState({
                        shown: !this.state.shown
                    });
                },

                getInitialState: function() {
                    return {
                        shown: false
                    };
                },

                renderLayer: function() {
                    if (!this.state.shown) {
                        return <span />;
                    }

                    return (
                        <Modal onRequestClose={this.handleClick} title="Title" fade={true}>
                            <div className="modal-body">
                                Content
                            </div>
                            <div className="modal-footer">
                                <button type="button" className="btn btn-default" onClick={this.handleClick}>Close</button>
                                <button type="button" className="btn btn-primary">Save changes</button>
                            </div>
                        </Modal>
                    );
                },

                render: function() {
                    return <a href="javascript:;" role="button" onClick={this.handleClick}>Click to toggle modal</a>;
                }
            });


            render();

    </script>
</body>
</html>